<div class="container py-5">

  <!-- Page Header -->
  <div class="text-center mb-5">
    <h2 class="fw-bold text-uppercase text-dark py-3 rounded shadow-sm">
      Last Login - Player {{ playerId }} Photos
    </h2>
    <p class="text-muted mt-2">
      View the verified photos uploaded by Player {{ playerId }} before entering the poker table.
    </p>
    <hr class="w-50 mx-auto border-secondary">
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger text-center">
    {{ errorMessage }}
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center text-black">
    <div class="spinner-border text-warning" role="status"></div>
    <p class="mt-2">Loading player photos...</p>
  </div>

  <!-- Photos Grid -->
  <div class="row">
    <div *ngFor="let photo of photos" class="col-sm-6 col-md-4 col-lg-3 mb-4">
      <div class="card text-black border-0 shadow-lg hover-card">
        <div class="image-wrapper">
          <img [src]="photo.photo" class="card-img-top fixed-image" alt="Player Photo">
        </div>
        <div class="card-body text-center">
          <p class="card-text small">
            Uploaded: {{ photo.created_at | date:'medium' }}
          </p>  
          <button
            class="btn btn-outline-success btn-sm mt-2"
            (click)="downloadPhoto(photo.photo)">
            <i class="bi bi-download"></i> Download
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && photos.length === 0" class="text-center mt-5 text-muted">
    <i class="bi bi-image-alt display-6 d-block mb-3"></i>
    <h5>No player photos found.</h5>
    <p class="small">This player has not uploaded any photos recently.</p>
  </div>

  <!-- Pagination Controls -->
  <div *ngIf="!loading && photos.length > 0" class="d-flex justify-content-center align-items-center mt-4">
    <button 
      class="btn btn-outline-secondary btn-sm me-2" 
      [disabled]="currentPage === 1"
      (click)="changePage(currentPage - 1)">
      « Previous
    </button>

    <span class="fw-bold small">Page {{ currentPage }} of {{ lastPage }}</span>

    <button 
      class="btn btn-outline-secondary btn-sm ms-2" 
      [disabled]="currentPage === lastPage"
      (click)="changePage(currentPage + 1)">
      Next »
    </button>
  </div>

</div>
